# System Architecture & Data Flow

## High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENT SIDE                                 â”‚
â”‚                    (Web Browser / Frontend)                          â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  index.html      â”‚  (Movie Entered)     â”‚   results.html    â”‚  â”‚
â”‚  â”‚  (Home Page)     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º   â”‚  (Results Page)   â”‚  â”‚
â”‚  â”‚                  â”‚                      â”‚                    â”‚  â”‚
â”‚  â”‚  - Input form    â”‚                      â”‚  - Statistics     â”‚  â”‚
â”‚  â”‚  - Features      â”‚                      â”‚  - Chart display  â”‚  â”‚
â”‚  â”‚  - How-it-works  â”‚                      â”‚  - Sample reviews â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                                         â–²                â”‚
â”‚           â”‚ (JavaScript: script.js)                â”‚                â”‚
â”‚           â”‚                                         â”‚ (JavaScript:   â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  results.js)  â”‚
â”‚                    (AJAX / Fetch API)                                â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–²
                              â”‚
                              â”‚ HTTP Requests
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SERVER SIDE                                  â”‚
â”‚                     (Flask Application)                              â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                 app.py (Flask Routes)                        â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â”‚  - GET /           â†’ Serve home page                        â”‚  â”‚
â”‚  â”‚  - POST /api/analyze â†’ Trigger analysis pipeline            â”‚  â”‚
â”‚  â”‚  - GET /results    â†’ Serve results page                     â”‚  â”‚
â”‚  â”‚  - GET /api/health â†’ Health check                           â”‚  â”‚
â”‚  â”‚  - GET /plots/<file> â†’ Serve chart images                   â”‚  â”‚
â”‚  â”‚                                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚                                                    â”‚
â”‚                 â”‚ Calls Analysis Modules                             â”‚
â”‚                 â”‚                                                    â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚         â”‚                                            â”‚              â”‚
â”‚         â–¼                                            â–¼              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  scraper.py   â”‚                          â”‚analyzer.py   â”‚       â”‚
â”‚  â”‚               â”‚                          â”‚              â”‚       â”‚
â”‚  â”‚ Letterboxd â”€â”€â–ºâ”‚ reviews                  â”‚ VADER â”€â”€â”€â”€â”€â”€â–ºâ”‚       â”‚
â”‚  â”‚ Reviews       â”‚ sentiment                â”‚ Scores       â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ scores                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                                            â–²              â”‚
â”‚         â–¼                                            â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚preprocessor.py  â”‚                      â”‚ visualizer.py   â”‚      â”‚
â”‚  â”‚                 â”‚                      â”‚                 â”‚      â”‚
â”‚  â”‚ Clean & prepare â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ Create charts   â”‚      â”‚
â”‚  â”‚ text data       â”‚                      â”‚ Generate images â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                    â”‚                â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚         â–¼             â–¼                      â–¼          â–¼       â–¼  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    â”‚  CSV    â”‚  â”‚   CSV      â”‚       â”‚    PNG      â”‚  â”‚  â”‚ JSON    â”‚
â”‚    â”‚  File   â”‚  â”‚    File    â”‚       â”‚   Chart     â”‚  â”‚  â”‚Response â”‚
â”‚    â”‚         â”‚  â”‚            â”‚       â”‚             â”‚  â”‚  â”‚         â”‚
â”‚    â”‚reviews_ â”‚  â”‚reviews_    â”‚       â”‚ sentiment   â”‚  â”‚  â”‚ Analysisâ”‚
â”‚    â”‚raw      â”‚  â”‚clean       â”‚       â”‚ .png        â”‚  â”‚  â”‚ Results â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚         â”‚             â”‚                      â”‚         â”‚       â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚       â”‚
â”‚                                  â”‚                     â”‚       â”‚
â”‚                         STORAGE: data/                 â”‚       â”‚
â”‚                         STORAGE: plots/                â”‚       â”‚
â”‚                                                        â”‚       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚       â”‚
â”‚  â”‚  config.py                                       â”‚ â”‚       â”‚
â”‚  â”‚  - Settings                                      â”‚ â”‚       â”‚
â”‚  â”‚  - Thresholds                                    â”‚ â”‚       â”‚
â”‚  â”‚  - Configuration                                â”‚ â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚       â”‚
â”‚                                                        â”‚       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â–º Returns JSON Response with Results
â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Detailed Analysis Pipeline

```
STEP 1: WEB SCRAPING (scraper.py)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Input: Movie Name
  â”‚
  â”œâ”€â–º Search Letterboxd
  â”œâ”€â–º Find movie page
  â”œâ”€â–º Parse HTML
  â”œâ”€â–º Extract reviews:
  â”‚   - Review text
  â”‚   - Rating (stars)
  â”‚   - Reviewer name
  â”‚   - Date
  â””â”€â–º Return: List of review dictionaries

Output: data/reviews_raw.csv
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ movie_nameâ”‚reviewerâ”‚ratingâ”‚review_textâ”‚date    â”‚
  â”‚ Inception â”‚john    â”‚â˜…â˜…â˜…â˜…â˜…â”‚Amazing!   â”‚2024-1-15
  â”‚ Inception â”‚jane    â”‚â˜…â˜…â˜…  â”‚Good movie â”‚2024-1-14
  â”‚ ...       â”‚...     â”‚...   â”‚...        â”‚...     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


STEP 2: DATA PREPROCESSING (preprocessor.py)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Input: data/reviews_raw.csv
  â”‚
  â”œâ”€â–º Remove empty reviews
  â”‚   (Filter out NaN and empty strings)
  â”‚
  â”œâ”€â–º For each review text:
  â”‚   â”œâ”€ Convert to lowercase
  â”‚   â”œâ”€ Remove URLs (https://...)
  â”‚   â”œâ”€ Remove email addresses
  â”‚   â”œâ”€ Remove special characters (@#$%)
  â”‚   â””â”€ Remove extra whitespace
  â”‚
  â”œâ”€â–º Calculate word count
  â”‚   (Count tokens after cleaning)
  â”‚
  â””â”€â–º Reorder columns

Output: data/reviews_clean.csv
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ...â”‚review_text       â”‚word_countâ”‚...                â”‚
  â”‚ ...â”‚amazing movie     â”‚2         â”‚...                â”‚
  â”‚ ...â”‚good film overall â”‚3         â”‚...                â”‚
  â”‚ ...â”‚...               â”‚...       â”‚...                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


STEP 3: SENTIMENT ANALYSIS (analyzer.py)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Input: data/reviews_clean.csv
  â”‚
  â”œâ”€â–º Initialize VADER analyzer
  â”‚   (NLTK SentimentIntensityAnalyzer)
  â”‚
  â”œâ”€â–º For each review:
  â”‚   â”‚
  â”‚   â”œâ”€â–º VADER processes text:
  â”‚   â”‚   â”œâ”€ Tokenizes words
  â”‚   â”‚   â”œâ”€ Looks up lexicon values
  â”‚   â”‚   â”œâ”€ Applies rules (negation, intensifiers)
  â”‚   â”‚   â””â”€ Calculates compound score
  â”‚   â”‚
  â”‚   â”œâ”€â–º Score normalization: -1.0 to 1.0
  â”‚   â”‚   â””â”€ -1.0: Most negative
  â”‚   â”‚   â””â”€ 0.0: Neutral
  â”‚   â”‚   â””â”€ 1.0: Most positive
  â”‚   â”‚
  â”‚   â””â”€â–º Classification:
  â”‚       â”œâ”€ If score > 0.05 â†’ POSITIVE
  â”‚       â”œâ”€ If -0.05 â‰¤ score â‰¤ 0.05 â†’ NEUTRAL
  â”‚       â””â”€ If score < -0.05 â†’ NEGATIVE
  â”‚
  â””â”€â–º Calculate statistics:
      â”œâ”€ Count by sentiment class
      â”œâ”€ Calculate percentages
      â”œâ”€ Average sentiment
      â”œâ”€ Min/max scores
      â””â”€ Store results

Output: data/reviews_analyzed.csv
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ...â”‚sentiment_scoreâ”‚sentiment_classâ”‚...                  â”‚
  â”‚ ...â”‚0.892          â”‚positive       â”‚...                  â”‚
  â”‚ ...â”‚0.342          â”‚positive       â”‚...                  â”‚
  â”‚ ...â”‚-0.634         â”‚negative       â”‚...                  â”‚
  â”‚ ...â”‚0.025          â”‚neutral        â”‚...                  â”‚
  â”‚ ...â”‚...            â”‚...            â”‚...                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STATISTICS CALCULATED:
  â”œâ”€ total_reviews: 50
  â”œâ”€ positive_reviews: 35
  â”œâ”€ neutral_reviews: 10
  â”œâ”€ negative_reviews: 5
  â”œâ”€ avg_sentiment: 0.752
  â”œâ”€ max_sentiment: 0.996
  â”œâ”€ min_sentiment: -0.905
  â””â”€ Percentages: 70%, 20%, 10%


STEP 4: VISUALIZATION (visualizer.py)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Input: 
  - Sentiment distribution: {positive: 35, neutral: 10, negative: 5}
  - Average sentiment: 0.752
  - Movie name: "Inception"
  â”‚
  â”œâ”€â–º Create matplotlib figure
  â”‚
  â”œâ”€â–º Draw bar chart:
  â”‚   â”œâ”€ X-axis: Sentiment categories
  â”‚   â”œâ”€ Y-axis: Number of reviews
  â”‚   â”œâ”€ Green bar (35): Positive
  â”‚   â”œâ”€ Gray bar (10): Neutral
  â”‚   â””â”€ Red bar (5): Negative
  â”‚
  â”œâ”€â–º Add labels & styling:
  â”‚   â”œâ”€ Value labels on bars
  â”‚   â”œâ”€ Title with movie name
  â”‚   â”œâ”€ Grid for readability
  â”‚   â””â”€ Professional colors
  â”‚
  â””â”€â–º Save as PNG: plots/Inception_sentiment.png

Output: plots/Inception_sentiment.png (Image file)
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Sentiment Distribution         â”‚
  â”‚  Inception                      â”‚
  â”‚                                 â”‚
  â”‚  35 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
  â”‚  10 â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
  â”‚  5  â”‚â–“â–“â–“â–“â–“â–“â–“â–“â–“â”‚  â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚   â”‚
  â”‚     â”‚â–“â–“â–“â–“â–“â–“â–“â–“â–“â”‚  â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚   â”‚
  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
  â”‚     Positive    Neutral  Neg.  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


STEP 5: RESPONSE GENERATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Input: All analyzed data

Output: JSON Response
{
  "success": true,
  "movie_name": "Inception",
  "timestamp": "2024-01-15 10:30:45",
  "stats": {
    "total_reviews": 50,
    "positive_reviews": 35,
    "neutral_reviews": 10,
    "negative_reviews": 5,
    "positive_pct": 70.0,
    "neutral_pct": 20.0,
    "negative_pct": 10.0,
    "avg_sentiment": 0.752,
    "max_sentiment": 0.996,
    "min_sentiment": -0.905
  },
  "sentiment_distribution": {
    "positive": 35,
    "neutral": 10,
    "negative": 5
  },
  "chart_url": "/plots/Inception_sentiment.png",
  "sample_reviews": [...]
}
```

---

## Directory Tree

```
letterboxd-review-analyser/
â”‚
â”œâ”€â”€ app.py                          # Main Flask application
â”‚   â”œâ”€â”€ Route: GET /
â”‚   â”œâ”€â”€ Route: POST /api/analyze
â”‚   â”œâ”€â”€ Route: GET /results
â”‚   â”œâ”€â”€ Route: GET /api/health
â”‚   â””â”€â”€ Error handlers
â”‚
â”œâ”€â”€ scraper.py                      # Web scraping module
â”‚   â”œâ”€â”€ scrape_letterboxd_reviews()
â”‚   â”œâ”€â”€ save_reviews_to_csv()
â”‚   â””â”€â”€ get_sample_reviews()
â”‚
â”œâ”€â”€ preprocessor.py                 # Data cleaning module
â”‚   â”œâ”€â”€ clean_text()
â”‚   â”œâ”€â”€ remove_empty_reviews()
â”‚   â”œâ”€â”€ count_words()
â”‚   â””â”€â”€ preprocess_reviews()
â”‚
â”œâ”€â”€ analyzer.py                     # Sentiment analysis module
â”‚   â”œâ”€â”€ initialize_sentiment_analyzer()
â”‚   â”œâ”€â”€ analyze_sentiment()
â”‚   â”œâ”€â”€ analyze_all_reviews()
â”‚   â”œâ”€â”€ calculate_sentiment_stats()
â”‚   â””â”€â”€ get_sentiment_distribution()
â”‚
â”œâ”€â”€ visualizer.py                   # Visualization module
â”‚   â”œâ”€â”€ create_sentiment_chart()
â”‚   â”œâ”€â”€ create_sentiment_score_distribution()
â”‚   â””â”€â”€ create_combined_report()
â”‚
â”œâ”€â”€ config.py                       # Configuration settings
â”‚
â”œâ”€â”€ test_modules.py                 # Testing script
â”‚   â”œâ”€â”€ test_full_pipeline()
â”‚   â”œâ”€â”€ test_preprocessing()
â”‚   â”œâ”€â”€ test_sentiment_analysis()
â”‚   â””â”€â”€ test_visualization()
â”‚
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ index.html                  # Home page template
â”‚   â”‚   â””â”€â”€ Includes: style.css, script.js
â”‚   â”‚
â”‚   â””â”€â”€ results.html                # Results page template
â”‚       â””â”€â”€ Includes: style.css, results.js
â”‚
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ style.css                   # Global styles (2000+ lines)
â”‚   â”‚   â”œâ”€â”€ Variables & global styles
â”‚   â”‚   â”œâ”€â”€ Header, footer
â”‚   â”‚   â”œâ”€â”€ Forms & buttons
â”‚   â”‚   â”œâ”€â”€ Cards & stats
â”‚   â”‚   â”œâ”€â”€ Charts & breakdowns
â”‚   â”‚   â”œâ”€â”€ Animations
â”‚   â”‚   â””â”€â”€ Responsive design
â”‚   â”‚
â”‚   â”œâ”€â”€ script.js                   # Home page JavaScript
â”‚   â”‚   â”œâ”€â”€ Form submission
â”‚   â”‚   â”œâ”€â”€ API calls
â”‚   â”‚   â”œâ”€â”€ Error handling
â”‚   â”‚   â””â”€â”€ State management
â”‚   â”‚
â”‚   â””â”€â”€ results.js                  # Results page JavaScript
â”‚       â”œâ”€â”€ Data retrieval
â”‚       â”œâ”€â”€ DOM population
â”‚       â”œâ”€â”€ Progress bars
â”‚       â”œâ”€â”€ Review display
â”‚       â””â”€â”€ Error states
â”‚
â”œâ”€â”€ data/                           # Data storage
â”‚   â”œâ”€â”€ reviews_raw.csv             # Original scraped data
â”‚   â”œâ”€â”€ reviews_clean.csv           # Cleaned & preprocessed
â”‚   â””â”€â”€ reviews_analyzed.csv        # With sentiment scores
â”‚
â”œâ”€â”€ plots/                          # Generated charts
â”‚   â””â”€â”€ *.png                       # Sentiment distribution charts
â”‚
â”œâ”€â”€ requirements.txt                # Production dependencies
â”œâ”€â”€ requirements-dev.txt            # Development dependencies
â”‚
â”œâ”€â”€ Documentation Files:
â”‚   â”œâ”€â”€ README.md                   # Project overview
â”‚   â”œâ”€â”€ SETUP.md                    # Installation guide
â”‚   â”œâ”€â”€ GUIDE.md                    # Technical reference
â”‚   â”œâ”€â”€ COMPLETION_SUMMARY.md       # Build summary
â”‚   â””â”€â”€ (This file)
â”‚
â””â”€â”€ Setup Scripts
    â”œâ”€â”€ setup.bat                   # Windows setup
    â””â”€â”€ setup.sh                    # Mac/Linux setup
```

---

## Technology Stack Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER INTERFACE                           â”‚
â”‚                   (Client-Side)                             â”‚
â”‚                                                             â”‚
â”‚  HTML5 â”€â”€â”€â”€â”€â”€â”€ CSS3 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ JavaScript (Vanilla)        â”‚
â”‚   â”‚              â”‚                     â”‚                    â”‚
â”‚   â”œâ”€ Semantic   â”œâ”€ Responsive      â”œâ”€ Fetch API           â”‚
â”‚   â”œâ”€ Accessible â”œâ”€ Animations      â”œâ”€ DOM Manipulation    â”‚
â”‚   â”œâ”€ Forms      â”œâ”€ Grid/Flexbox    â””â”€ Event Handling      â”‚
â”‚   â””â”€ Templates  â””â”€ Modern Design                           â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–²
                          â”‚ HTTP/JSON
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    WEB FRAMEWORK                            â”‚
â”‚                                                             â”‚
â”‚         Flask â—„â”€â”€â”€â”€â”€â”€â–º Python 3.8+                         â”‚
â”‚         â”œâ”€ Routes                                           â”‚
â”‚         â”œâ”€ Request handling                                 â”‚
â”‚         â”œâ”€ Response generation                              â”‚
â”‚         â””â”€ Error handling                                   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 BUSINESS LOGIC LAYER                        â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Scraper â”‚  â”‚ Preprocessor â”‚  â”‚  Analyzer (NLTK)   â”‚  â”‚
â”‚  â”‚          â”‚  â”‚              â”‚  â”‚                     â”‚  â”‚
â”‚  â”‚BeautifulSoupâ”‚  pandas      â”‚  â”‚ VADER Sentiment    â”‚  â”‚
â”‚  â”‚ requests â”‚  â”‚ CSV handling â”‚  â”‚ Analysis           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Visualizer (matplotlib)                     â”‚  â”‚
â”‚  â”‚                                                     â”‚  â”‚
â”‚  â”‚  Chart generation â”€â–º PNG export                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATA LAYER                                â”‚
â”‚                                                             â”‚
â”‚  CSV Files (data/) â—„â”€â–º pandas DataFrames                   â”‚
â”‚  â”œâ”€ reviews_raw.csv                                        â”‚
â”‚  â”œâ”€ reviews_clean.csv                                      â”‚
â”‚  â””â”€ reviews_analyzed.csv                                   â”‚
â”‚                                                             â”‚
â”‚  PNG Files (plots/) â—„â”€â–º matplotlib Figures                â”‚
â”‚  â””â”€ sentiment_*.png                                        â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–²
                          â”‚
                    External APIs
                    â”œâ”€ Letterboxd (scraping)
                    â””â”€ NLTK lexicon (sentiment)
```

---

## Request/Response Flow

```
USER INPUT (Home Page)
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User enters movie name  â”‚
â”‚ Clicks "Analyze"        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼ (JavaScript: script.js)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Validate input                      â”‚
â”‚ Prepare request body:               â”‚
â”‚ {                                   â”‚
â”‚   "movie_name": "Inception"         â”‚
â”‚ }                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼ (Fetch API)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /api/analyze                   â”‚
â”‚ Content-Type: application/json      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼ (Flask Backend: app.py)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Validate input                   â”‚
â”‚ 2. Call scraper.py                  â”‚
â”‚ 3. Call preprocessor.py             â”‚
â”‚ 4. Call analyzer.py                 â”‚
â”‚ 5. Call visualizer.py               â”‚
â”‚ 6. Prepare response                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼ (JSON Response)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ {                                        â”‚
â”‚   "success": true,                       â”‚
â”‚   "movie_name": "Inception",             â”‚
â”‚   "timestamp": "2024-01-15 10:30:45",   â”‚
â”‚   "stats": {                             â”‚
â”‚     "total_reviews": 50,                 â”‚
â”‚     "avg_sentiment": 0.752,              â”‚
â”‚     "positive_reviews": 35,              â”‚
â”‚     "positive_pct": 70.0,                â”‚
â”‚     ...                                  â”‚
â”‚   },                                     â”‚
â”‚   "chart_url": "/plots/...",            â”‚
â”‚   "sample_reviews": [...]                â”‚
â”‚ }                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼ (JavaScript: results.js)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Parse response                    â”‚
â”‚ 2. Update DOM                        â”‚
â”‚ 3. Display statistics                â”‚
â”‚ 4. Show chart                        â”‚
â”‚ 5. List reviews                      â”‚
â”‚ 6. Redirect to /results              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RESULTS PAGE (results.html)          â”‚
â”‚                                      â”‚
â”‚ â”Œâ”€ Movie Title                       â”‚
â”‚ â”œâ”€ Statistics Cards                  â”‚
â”‚ â”œâ”€ Sentiment Chart (PNG)             â”‚
â”‚ â”œâ”€ Breakdown Bars                    â”‚
â”‚ â”œâ”€ Sample Reviews                    â”‚
â”‚ â””â”€ Detailed Metrics                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Module Dependencies

```
app.py (Main)
â”œâ”€â”€ Imports: scraper.py
â”œâ”€â”€ Imports: preprocessor.py
â”œâ”€â”€ Imports: analyzer.py
â””â”€â”€ Imports: visualizer.py

scraper.py
â”œâ”€â”€ Imports: requests
â”œâ”€â”€ Imports: BeautifulSoup
â””â”€â”€ Imports: pandas

preprocessor.py
â”œâ”€â”€ Imports: pandas
â”œâ”€â”€ Imports: re (regex)
â””â”€â”€ Uses: scraper output (CSV)

analyzer.py
â”œâ”€â”€ Imports: pandas
â”œâ”€â”€ Imports: NLTK
â”‚   â””â”€â”€ SentimentIntensityAnalyzer
â””â”€â”€ Uses: preprocessor output (CSV)

visualizer.py
â”œâ”€â”€ Imports: matplotlib
â”œâ”€â”€ Imports: os
â””â”€â”€ Uses: analyzer output (data)

test_modules.py
â”œâ”€â”€ Imports: scraper
â”œâ”€â”€ Imports: preprocessor
â”œâ”€â”€ Imports: analyzer
â””â”€â”€ Imports: visualizer
```

---

**Complete system architecture documented! ğŸ—ï¸**
